<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tibayan Store</title>
  <link rel="stylesheet" href="sheeshh.css">
</head>
<body>
<div class="deymm">
  <img src="tibayann-removebg-preview.png" alt="food" style="width: 250px;">
  <h1>Tibayan Store</h1>
  <hr>
</div>
<div class="container">
  <div class="category">
    <h1>Jeans</h1>
   
   <div class="menu">
      <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="guess1.jpeg" alt="food">
        <h2>Guess</h2>
        <span class="price">₱500</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 20</span>
        
        
      </div>
	 
	
      <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="Lee1.jpeg" alt="food">
        <h2>Lee</h2>
        <span class="price">₱600</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 20</span>
        
      </div>
	 
	
      <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="wrangler1.jpeg" alt="food">
        <h2>Wrangler</h2>
        <span class="price">₱500</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 30</span>
        
      </div>
	
      <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="armani1.jpeg" alt="food">
        <h2>Armani</h2>
        <span class="price">₱600</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 30</span>
        
      </div>
	
      <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="rrj1.jpeg" alt="food">
        <h2>RRJ</h2>
        <span class="price">₱600</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 15</span>
        
      </div>
	
	
	
   	
	
    
  </div>

  <div class="category">
    <h1>T-shirt</h1>
    <hr>
    <div class="menu">
      <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="prettiest.jpg" alt="food">
        <h2>Prettiest</h2>
        <span class="price">₱700</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 35</span>
        
      </div>
      
        <div class="menu-item">
          <input type="checkbox" class="item-checkbox">
          <img src="diwata.jpg" alt="food">
          <h2>Diwata</h2>
          <span class="price">₱800</span>
          <label for="quantity">Quantity:</label>
          <input type="number" class="quantity-input" value="1" min="1">
          <span class="stock">Stock: 20</span>
          
        </div>
	<div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="cozii.jpg" alt="food">
        <h2>Coziest</h2>
        <span class="price">₱750</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 20</span>
       
      </div>
	<div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="undrafted.jpg" alt="food">
        <h2>Undrafted</h2>
        <span class="price">₱800</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 25</span>
      
      </div>
	<div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="esse.jpg" alt="food">
        <h2>Essential</h2>
        <span class="price">₱600</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 50</span>
        
      </div>
	<div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="g.webp" alt="food">
        <h2>Gnarly!</h2>
        <span class="price">₱600</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 20</span>
		
        
      </div>
	
    
	<div class="category">
    <h1>Perfume</h1>
    <hr>
    <div class="menu">
      <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="chane.webp" alt="food">
        <h2>Chanel</h2>
        <span class="price">₱5000</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 20</span>
      </div>
	   <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="gucci.jpg" alt="food">
        <h2>Gucci</h2>
        <span class="price">₱4000</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 15</span>
      </div>
	  <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="sauvage.jpg" alt="food">
        <h2>Dior</h2>
        <span class="price">₱6000</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 20</span>
      </div>
	  <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="jo malo.webp" alt="food">
        <h2>Jo Malone</h2>
        <span class="price">₱7000</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 20</span>
      </div>
	  <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="ck.jpg" alt="food">
        <h2>Calvin klein</h2>
        <span class="price">₱5000</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 25</span>
      </div>
	
      
	
    </div>
  </div>

  <div class="category">
    <h1>Sando</h1>
    <hr>
    <div class="menu">
      <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="nike.jpg" alt="food">
        <h2>Nike</h2>
        <span class="price">₱500</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 30</span>
      </div>
	  
      <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="adidas.jpg" alt="food">
        <h2>Adidas</h2>
        <span class="price">₱600</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 20</span>
      </div>
	  
	  <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="puma.jpeg" alt="food">
        <h2>Puma</h2>
        <span class="price">₱600</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 10</span>
      </div>
	  <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="conve.jpg" alt="food">
        <h2>Converse</h2>
        <span class="price">₱600</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 20</span>
      </div>
	  <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="uniqlo.jpg" alt="food">
        <h2>Uniqlo</h2>
        <span class="price">₱800</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 15</span>
      </div>
	
    </div>
  </div>
  
  <div class="category">
    <h1>Toys</h1>
    <hr>
    <div class="menu">
      <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="lego.jpg" alt="food">
        <h2>Lego</h2>
        <span class="price">₱150</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 10</span>
      </div>
	  
      <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="pazz.jpg" alt="food">
        <h2>Puzzle</h2>
        <span class="price">₱200</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 10</span>
      </div>
	  
	  <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="car.jpg" alt="food">
        <h2>Car</h2>
        <span class="price">₱150</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 10</span>
      </div>
	  <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="trucks.jpg" alt="food">
        <h2>Trucks<h2>
        <span class="price">₱100</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 10</span>
      </div>
	  <div class="menu-item">
        <input type="checkbox" class="item-checkbox">
        <img src="dolls.jpg" alt="food">
        <h2>Dolls</h2>
        <span class="price">₱120</span>
        <label for="quantity">Quantity:</label>
        <input type="number" class="quantity-input" value="1" min="1">
        <span class="stock">Stock: 10</span>
      </div>
	</div>
    </div>
  </div>
    </div>
</div>
</div>

<div class="stock-link">
  <a href="manage_stock.html">Manage Stock</a>
</div>

<hr>
<div class="payments">
  <div class="payment">
    <label for="money">Enter the amount of money:</label>
    <input type="number" id="money" min="0">
    <button onclick="calculateChange()">Calculate Change</button>
    <p id="change">Change: ₱0</p>
  </div>

  <div class="receipt">
    <h2>Receipt</h2>
    <ul class="receipt-list"></ul>
    <p>Total: <span id="total">₱0</span></p>
  </div>
</div>

<div class="discounts">
  <button onclick="applyDiscount('senior')">Senior (-20%)</button>
  <button onclick="applyDiscount('PWD')">PWD (-30%)</button>
  <button onclick="applyDiscount('student')">Student (-10%)</button>
</div>
<script>
const checkboxes = document.querySelectorAll('.item-checkbox');
const receiptList = document.querySelector('.receipt-list');
const totalDisplay = document.getElementById('total');
const changeDisplay = document.getElementById('change');
let total = 0;
let discount = 0;

// Fetch stock data from local storage or use default values
const stockData = JSON.parse(localStorage.getItem('stockData')) || {
  'Guess': 20,
  'Lee': 20,
  'Wrangler': 30,
  'Armani': 30,
  'RRJ': 15,
  'Prettiest': 35,
  'Diwata': 20,
  'Coziest': 20,
  'Undrafted': 25,
  'Essential': 50,
  'Gnarly!': 20,
  'Chanel': 20,
  'Gucci': 15,
  'Dior': 20,
  'Jo Malone': 20,
  'Calvin klein': 25,
  'Nike': 30,
  'Adidas': 20,
  'Puma': 10,
  'Converse': 20,
  'Uniqlo': 15,
  'Lego': 10,
  'Puzzle': 10,
  'Car': 10,
  'Trucks': 10,
  'Dolls': 10
};

// Update the stock display
document.querySelectorAll('.menu-item').forEach(item => {
  const itemName = item.querySelector('h2').innerText;
  const stockSpan = item.querySelector('.stock');
  stockSpan.innerText = `Stock: ${stockData[itemName]}`;
});

checkboxes.forEach(checkbox => {
  checkbox.addEventListener('change', () => {
    const item = checkbox.closest('.menu-item');
    const itemName = item.querySelector('h2').innerText;
    const itemPrice = parseFloat(item.querySelector('.price').innerText.replace('₱', ''));
    const quantityInput = item.querySelector('.quantity-input'); 
    const stockSpan = item.querySelector('.stock');
    let stock = stockData[itemName];

    if (checkbox.checked) {
      const quantity = parseInt(quantityInput.value);
      if (quantity <= stock) {
        total += itemPrice * quantity;
        const listItem = document.createElement('li');
        listItem.innerText = `${itemName} x ${quantity} - ₱${(itemPrice * quantity).toFixed(2)}`;
        receiptList.appendChild(listItem);
        stock -= quantity;
        stockData[itemName] = stock;
        stockSpan.innerText = `Stock: ${stock}`;
      } else {
        checkbox.checked = false;
        alert(`Insufficient stock for ${itemName}`);
      }
    } else {
      const items = receiptList.querySelectorAll('li');
      items.forEach(li => {
        if (li.innerText.startsWith(itemName)) {
          const quantity = parseInt(li.innerText.split('x')[1].split('-')[0].trim());
          total -= itemPrice * quantity;
          li.remove();
          stock += quantity;
          stockData[itemName] = stock;
          stockSpan.innerText = `Stock: ${stock}`;
        }
      });
    }

    totalDisplay.innerText = `₱${(total - total * discount).toFixed(2)}`;
    
    quantityInput.addEventListener('change', () => { 
      const quantity = parseInt(quantityInput.value);
      if (checkbox.checked && quantity > stock) {
        alert(`Insufficient stock for ${itemName}`);
        quantityInput.value = stock;
      }
    });

    // Save updated stock data back to local storage
    localStorage.setItem('stockData', JSON.stringify(stockData));
  });
});

const calculateChange = () => {
  const payment = parseFloat(document.getElementById('money').value);
  const change = payment - total + total * discount;
  changeDisplay.innerText = `₱${change.toFixed(2)}`;
};

const applyDiscount = (discountType) => {
  if (discountType === 'senior') {
    discount = 0.2; // 20% discount
  } else if (discountType === 'PWD') {
    discount = 0.3; // 30% discount
  } else if (discountType === 'student') {
    discount = 0.1; // 10% discount
  } else {
    discount = 0; // No discount
  }
  totalDisplay.innerText = `₱${(total - total * discount).toFixed(2)}`;
};
</script>


</body>
</html>
